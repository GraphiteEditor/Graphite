[package]
name = "graphene-std"
version = "0.1.0"
edition = "2024"
description = "Graphene standard library"
authors = ["Graphite Authors <contact@graphite.rs>"]
license = "MIT OR Apache-2.0"

[features]
default = ["wasm", "imaginate"]
gpu = [ "graphene-core/gpu" ]
wgpu = ["gpu", "graph-craft/wgpu"]
wasm = ["wasm-bindgen", "web-sys"]
imaginate = ["image/png", "base64", "web-sys", "wasm-bindgen-futures"]
image-compare = []
vello = ["dep:vello", "gpu", "graphene-core/vello"]
resvg = []
wayland = ["graph-craft/wayland"]

[dependencies]
# Local dependencies
dyn-any = { path = "../../libraries/dyn-any", features = ["derive", "reqwest"] }
graph-craft = { path = "../graph-craft", features = ["serde"] }
wgpu-executor = { path = "../wgpu-executor" }
graphene-core = { path = "../gcore", default-features = false, features = [
	"std",
	"serde",
	"alloc",
] }

# Workspace dependencies
fastnoise-lite = { workspace = true }
log = { workspace = true }
bezier-rs = { workspace = true, features = ["serde"] }
path-bool = { workspace = true, features = ["parsing"] }
glam = { workspace = true, features = ["serde"] }
node-macro = { workspace = true }
reqwest = { workspace = true }
futures = { workspace = true }
usvg = { workspace = true }
rand_chacha = { workspace = true }
rand = { workspace = true, default-features = false, features = [
	"alloc",
	"small_rng",
] }
bytemuck = { workspace = true }
image = { workspace = true, default-features = false, features = [
	"png",
	"jpeg",
] }

# Optional workspace dependencies
base64 = { workspace = true, optional = true }
wasm-bindgen = { workspace = true, optional = true }
wasm-bindgen-futures = { workspace = true, optional = true }
tokio = { workspace = true, optional = true, features = ["fs", "io-std"] }
vello = { workspace = true, optional = true }
serde = { workspace = true, optional = true, features = ["derive"] }
web-sys = { workspace = true, optional = true, features = [
	"Window",
	"CanvasRenderingContext2d",
	"ImageData",
	"Document",
	"Navigator",
	"Gpu",
	"HtmlCanvasElement",
	"HtmlImageElement",
	"ImageBitmapRenderingContext",
] }

# Optional dependencies
ndarray = "0.16.1"

[dev-dependencies]
tokio = { workspace = true, features = ["macros"] }
